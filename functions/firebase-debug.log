[debug] [2025-02-26T09:55:17.760Z] ----------------------------------------------------------------------
[debug] [2025-02-26T09:55:17.764Z] Command:       /opt/homebrew/Cellar/node@20/20.18.3/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2025-02-26T09:55:17.764Z] CLI Version:   13.29.1
[debug] [2025-02-26T09:55:17.764Z] Platform:      darwin
[debug] [2025-02-26T09:55:17.764Z] Node Version:  v20.18.3
[debug] [2025-02-26T09:55:17.764Z] Time:          Wed Feb 26 2025 15:25:17 GMT+0530 (India Standard Time)
[debug] [2025-02-26T09:55:17.764Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-02-26T09:55:17.834Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-02-26T09:55:17.835Z] > authorizing via signed-in user (tilakpuli15@gmail.com)
[debug] [2025-02-26T09:55:17.835Z] [iam] checking project finbud-99269 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-02-26T09:55:17.835Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:17.835Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:17.836Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269:testIamPermissions [none]
[debug] [2025-02-26T09:55:17.836Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269:testIamPermissions x-goog-quota-user=projects/finbud-99269
[debug] [2025-02-26T09:55:17.836Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-02-26T09:55:19.125Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269:testIamPermissions 200
[debug] [2025-02-26T09:55:19.125Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-02-26T09:55:19.125Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:19.125Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:19.125Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/finbud-99269/serviceAccounts/finbud-99269@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-02-26T09:55:19.125Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/finbud-99269/serviceAccounts/finbud-99269@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-02-26T09:55:20.635Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/finbud-99269/serviceAccounts/finbud-99269@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-02-26T09:55:20.635Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/finbud-99269/serviceAccounts/finbud-99269@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'finbud-99269'...
[info] 
[info] i  deploying functions 
[debug] [2025-02-26T09:55:20.638Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:20.638Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:20.638Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269 [none]
[debug] [2025-02-26T09:55:20.930Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269 200
[debug] [2025-02-26T09:55:20.931Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269 {"projectNumber":"706321535461","projectId":"finbud-99269","lifecycleState":"ACTIVE","name":"Finget","labels":{"firebase":"enabled"},"createTime":"2023-11-30T05:59:01.645572Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-02-26T09:55:20.931Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:20.931Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:20.931Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:20.931Z] Checked if tokens are valid: true, expires at: 1740566721167
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-02-26T09:55:20.931Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:20.931Z] Checked if tokens are valid: true, expires at: 1740566721167
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-02-26T09:55:20.931Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:20.931Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:20.932Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/cloudfunctions.googleapis.com [none]
[debug] [2025-02-26T09:55:20.932Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/finbud-99269
[debug] [2025-02-26T09:55:20.932Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/runtimeconfig.googleapis.com [none]
[debug] [2025-02-26T09:55:20.932Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/finbud-99269
[debug] [2025-02-26T09:55:20.933Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/cloudbuild.googleapis.com [none]
[debug] [2025-02-26T09:55:20.933Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/cloudbuild.googleapis.com x-goog-quota-user=projects/finbud-99269
[debug] [2025-02-26T09:55:20.933Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/artifactregistry.googleapis.com [none]
[debug] [2025-02-26T09:55:20.933Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/artifactregistry.googleapis.com x-goog-quota-user=projects/finbud-99269
[debug] [2025-02-26T09:55:22.750Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/runtimeconfig.googleapis.com 200
[debug] [2025-02-26T09:55:22.750Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-02-26T09:55:22.752Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/cloudbuild.googleapis.com 200
[debug] [2025-02-26T09:55:22.752Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-02-26T09:55:22.761Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/cloudfunctions.googleapis.com 200
[debug] [2025-02-26T09:55:22.761Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-02-26T09:55:22.766Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/artifactregistry.googleapis.com 200
[debug] [2025-02-26T09:55:22.766Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-02-26T09:55:22.766Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:22.766Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:22.766Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/finbud-99269/adminSdkConfig [none]
[debug] [2025-02-26T09:55:23.270Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/finbud-99269/adminSdkConfig 200
[debug] [2025-02-26T09:55:23.270Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/finbud-99269/adminSdkConfig {"projectId":"finbud-99269","storageBucket":"finbud-99269.firebasestorage.app"}
[debug] [2025-02-26T09:55:23.271Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:23.271Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:23.271Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/finbud-99269/configs [none]
[debug] [2025-02-26T09:55:23.673Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/finbud-99269/configs 200
[debug] [2025-02-26T09:55:23.673Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/finbud-99269/configs {}
[debug] [2025-02-26T09:55:23.676Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 18 will be deprecated on 2025-04-30 and will be decommissioned on 2025-10-31, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2025-02-26T09:55:24.145Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "predeploy": "cd app && npm i && cd .."
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "@google-cloud/firestore": "^7.3.1",
    "@google/generative-ai": "^0.21.0",
    "axios": "^1.6.0",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "express": "^4.18.2",
    "firebase-admin": "^13.0.2",
    "firebase-functions": "^6.2.0",
    "mongodb": "^6.2.0",
    "morgan": "^1.10.0",
    "morgan-body": "^2.6.9",
    "openai": "^4.77.4",
    "prettier": "^3.1.0",
    "uuid": "^11.0.5"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-02-26T09:55:24.145Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-02-26T09:55:24.146Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-02-26T09:55:24.151Z] Found firebase-functions binary at '/Users/tilakpuli/projects/personal/budget-ai-backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8019

[debug] [2025-02-26T09:55:24.592Z] Got response from /__/functions.yaml {"endpoints":{"backend":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"backend"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-02-26T09:55:28.618Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:28.619Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:28.619Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/firebaseextensions.googleapis.com [none]
[debug] [2025-02-26T09:55:28.619Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/finbud-99269
[debug] [2025-02-26T09:55:30.209Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/firebaseextensions.googleapis.com 200
[debug] [2025-02-26T09:55:30.209Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-02-26T09:55:30.209Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-02-26T09:55:30.209Z] > authorizing via signed-in user (tilakpuli15@gmail.com)
[debug] [2025-02-26T09:55:30.209Z] [iam] checking project finbud-99269 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-02-26T09:55:30.209Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:30.209Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:30.210Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269:testIamPermissions [none]
[debug] [2025-02-26T09:55:30.210Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269:testIamPermissions x-goog-quota-user=projects/finbud-99269
[debug] [2025-02-26T09:55:30.210Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-02-26T09:55:30.520Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269:testIamPermissions 200
[debug] [2025-02-26T09:55:30.520Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-02-26T09:55:30.521Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:30.521Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:30.521Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/finbud-99269/instances pageSize=100&pageToken=
[debug] [2025-02-26T09:55:31.947Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/finbud-99269/instances 200
[debug] [2025-02-26T09:55:31.947Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/finbud-99269/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/tilakpuli/projects/personal/budget-ai-backend/functions (126.73 KB) for uploading 
[debug] [2025-02-26T09:55:32.007Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:32.007Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:32.007Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/finbud-99269/locations/-/functions [none]
[debug] [2025-02-26T09:55:32.742Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/finbud-99269/locations/-/functions 200
[debug] [2025-02-26T09:55:32.743Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/finbud-99269/locations/-/functions {}
[debug] [2025-02-26T09:55:32.743Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:32.743Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:32.744Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-02-26T09:55:34.311Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/-/functions 200
[debug] [2025-02-26T09:55:34.312Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/-/functions {"functions":[{"name":"projects/finbud-99269/locations/us-central1/functions/backend","buildConfig":{"build":"projects/706321535461/locations/us-central1/builds/410d70a4-07c0-4e4b-bf28-2d2551b2efea","runtime":"nodejs18","entryPoint":"backend","source":{"storageSource":{"bucket":"gcf-v2-sources-706321535461-us-central1","object":"backend/function-source.zip","generation":"1740563520816302"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/finbud-99269/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-706321535461-us-central1","object":"backend/function-source.zip","generation":"1740563520816302"}},"dockerRegistry":"ARTIFACT_REGISTRY","onDeployUpdatePolicy":{}},"serviceConfig":{"service":"projects/finbud-99269/locations/us-central1/services/backend","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"finbud-99269\",\"storageBucket\":\"finbud-99269.firebasestorage.app\"}","GCLOUD_PROJECT":"finbud-99269","EVENTARC_CLOUD_EVENT_SOURCE":"projects/finbud-99269/locations/us-central1/services/backend","FUNCTION_TARGET":"backend","LOG_EXECUTION_ID":"true"},"maxInstanceCount":3,"ingressSettings":"ALLOW_ALL","uri":"https://backend-2xqnus4dqq-uc.a.run.app","serviceAccountEmail":"706321535461-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"backend-00031-xej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-02-26T09:53:07.131944331Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"4399d4988557e2881015da122c9910617d124de8"},"environment":"GEN_2","url":"https://us-central1-finbud-99269.cloudfunctions.net/backend","createTime":"2024-03-10T06:11:59.180998166Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-02-26T09:55:34.316Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:34.316Z] Checked if tokens are valid: true, expires at: 1740566721167
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-02-26T09:55:34.317Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:34.317Z] Checked if tokens are valid: true, expires at: 1740566721167
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-02-26T09:55:34.317Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:34.318Z] Checked if tokens are valid: true, expires at: 1740566721167
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-02-26T09:55:34.318Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:34.318Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:34.318Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/run.googleapis.com [none]
[debug] [2025-02-26T09:55:34.318Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/run.googleapis.com x-goog-quota-user=projects/finbud-99269
[debug] [2025-02-26T09:55:34.319Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/eventarc.googleapis.com [none]
[debug] [2025-02-26T09:55:34.319Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/eventarc.googleapis.com x-goog-quota-user=projects/finbud-99269
[debug] [2025-02-26T09:55:34.321Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/pubsub.googleapis.com [none]
[debug] [2025-02-26T09:55:34.321Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/pubsub.googleapis.com x-goog-quota-user=projects/finbud-99269
[debug] [2025-02-26T09:55:34.322Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/storage.googleapis.com [none]
[debug] [2025-02-26T09:55:34.322Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/storage.googleapis.com x-goog-quota-user=projects/finbud-99269
[debug] [2025-02-26T09:55:34.862Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/run.googleapis.com 200
[debug] [2025-02-26T09:55:34.862Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2025-02-26T09:55:35.872Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/storage.googleapis.com 200
[debug] [2025-02-26T09:55:35.873Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2025-02-26T09:55:35.880Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/pubsub.googleapis.com 200
[debug] [2025-02-26T09:55:35.880Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-02-26T09:55:35.883Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/eventarc.googleapis.com 200
[debug] [2025-02-26T09:55:35.883Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/finbud-99269/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-02-26T09:55:35.884Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:35.884Z] Checked if tokens are valid: true, expires at: 1740566721167
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-02-26T09:55:35.884Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:35.884Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:35.885Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/706321535461/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-02-26T09:55:35.885Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/706321535461/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-02-26T09:55:36.227Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/706321535461/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-02-26T09:55:36.227Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/706321535461/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-706321535461@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"115609990333145905070"}}
[debug] [2025-02-26T09:55:36.350Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/706321535461/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-02-26T09:55:36.350Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/706321535461/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-706321535461@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"102394431172954660650"}}
[debug] [2025-02-26T09:55:36.351Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:36.351Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:36.351Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269 [none]
[debug] [2025-02-26T09:55:37.614Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269 200
[debug] [2025-02-26T09:55:37.614Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/finbud-99269 {"projectNumber":"706321535461","projectId":"finbud-99269","lifecycleState":"ACTIVE","name":"Finget","labels":{"firebase":"enabled"},"createTime":"2023-11-30T05:59:01.645572Z"}
[debug] [2025-02-26T09:55:37.615Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:37.615Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:37.615Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/finbud-99269/billingInfo [none]
[debug] [2025-02-26T09:55:37.972Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/finbud-99269/billingInfo 200
[debug] [2025-02-26T09:55:37.972Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/finbud-99269/billingInfo {"name":"projects/finbud-99269/billingInfo","projectId":"finbud-99269","billingAccountName":"billingAccounts/012788-182FEF-A4DB3B","billingEnabled":true}
[debug] [2025-02-26T09:55:37.973Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:37.973Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:37.973Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-02-26T09:55:39.329Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-02-26T09:55:39.329Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-706321535461.us-central1.cloudfunctions.appspot.com/e8ff79c3-3122-4c7f-b11c-a8419524f4ae.zip?GoogleAccessId=service-706321535461@gcf-admin-robot.iam.gserviceaccount.com&Expires=1740565539&Signature=aZp5kZb8eCYVHyADj9PJnSRtVqx5RxciKQYa2TD0QhKukaqnfR4Yvt84XCjkw646kUUNKAfk%2BMr8pSYEd9BGa0meF3oCvNSaBW48dTaya23jQurdFLxlg93HxzZWnS5fWKJgapKPcxMN%2FsEAcv5ngXPFgSWznw4h26pQeCc%2Bo1Gzqm5E5qse9z4ag9JeW%2B%2F6F%2F06Knu8l4oEC%2FVfT%2BJyysTz%2B2HdLViBKGnwGqw2kQf8QLAsHm3jNJKh6PGoopkR4rwKDftL7lFssYWJoCkuJedz1uoyFnravV5hnyLYTSINYbdLsmyOItn3XqXTjnslHnu9WDU%2FRTHpYNoctJz0hw%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-706321535461.us-central1.cloudfunctions.appspot.com","object":"e8ff79c3-3122-4c7f-b11c-a8419524f4ae.zip"}}
[debug] [2025-02-26T09:55:39.330Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-706321535461.us-central1.cloudfunctions.appspot.com/e8ff79c3-3122-4c7f-b11c-a8419524f4ae.zip GoogleAccessId=service-706321535461%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1740565539&Signature=aZp5kZb8eCYVHyADj9PJnSRtVqx5RxciKQYa2TD0QhKukaqnfR4Yvt84XCjkw646kUUNKAfk%2BMr8pSYEd9BGa0meF3oCvNSaBW48dTaya23jQurdFLxlg93HxzZWnS5fWKJgapKPcxMN%2FsEAcv5ngXPFgSWznw4h26pQeCc%2Bo1Gzqm5E5qse9z4ag9JeW%2B%2F6F%2F06Knu8l4oEC%2FVfT%2BJyysTz%2B2HdLViBKGnwGqw2kQf8QLAsHm3jNJKh6PGoopkR4rwKDftL7lFssYWJoCkuJedz1uoyFnravV5hnyLYTSINYbdLsmyOItn3XqXTjnslHnu9WDU%2FRTHpYNoctJz0hw%3D%3D
[debug] [2025-02-26T09:55:39.330Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-706321535461.us-central1.cloudfunctions.appspot.com/e8ff79c3-3122-4c7f-b11c-a8419524f4ae.zip [stream]
[debug] [2025-02-26T09:55:41.666Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-706321535461.us-central1.cloudfunctions.appspot.com/e8ff79c3-3122-4c7f-b11c-a8419524f4ae.zip 200
[debug] [2025-02-26T09:55:41.666Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-706321535461.us-central1.cloudfunctions.appspot.com/e8ff79c3-3122-4c7f-b11c-a8419524f4ae.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (2nd Gen) function backend(us-central1)... 
[debug] [2025-02-26T09:55:41.674Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:41.675Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:41.675Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/us-central1/functions/backend updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2025-02-26T09:55:41.675Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/us-central1/functions/backend {"name":"projects/finbud-99269/locations/us-central1/functions/backend","buildConfig":{"runtime":"nodejs18","entryPoint":"backend","source":{"storageSource":{"bucket":"gcf-v2-uploads-706321535461.us-central1.cloudfunctions.appspot.com","object":"e8ff79c3-3122-4c7f-b11c-a8419524f4ae.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"finbud-99269\",\"storageBucket\":\"finbud-99269.firebasestorage.app\"}","GCLOUD_PROJECT":"finbud-99269","EVENTARC_CLOUD_EVENT_SOURCE":"projects/finbud-99269/locations/us-central1/services/backend","FUNCTION_TARGET":"backend","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1bb941bdfbb36be80bf7e3253ac92477f32d0e33"}}
[debug] [2025-02-26T09:55:43.871Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/us-central1/functions/backend 200
[debug] [2025-02-26T09:55:43.871Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/us-central1/functions/backend {"name":"projects/finbud-99269/locations/us-central1/operations/operation-1740563742806-62f08939951af-c816d988-d7858644","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-02-26T09:55:43.761902002Z","target":"projects/finbud-99269/locations/us-central1/functions/backend","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-02-26T09:55:43.873Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:43.873Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:43.875Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/us-central1/operations/operation-1740563742806-62f08939951af-c816d988-d7858644 [none]
[debug] [2025-02-26T09:55:45.091Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/us-central1/operations/operation-1740563742806-62f08939951af-c816d988-d7858644 200
[debug] [2025-02-26T09:55:45.096Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/us-central1/operations/operation-1740563742806-62f08939951af-c816d988-d7858644 {"name":"projects/finbud-99269/locations/us-central1/operations/operation-1740563742806-62f08939951af-c816d988-d7858644","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-02-26T09:55:43.761902002Z","target":"projects/finbud-99269/locations/us-central1/functions/backend","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/finbud-99269/locations/us-central1/functions/backend","buildConfig":{"runtime":"nodejs18","entryPoint":"backend","source":{"storageSource":{"bucket":"gcf-v2-sources-706321535461-us-central1","object":"backend/function-source.zip","generation":"1740563743716126"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/finbud-99269/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-706321535461-us-central1","object":"backend/function-source.zip","generation":"1740563520816302"}},"dockerRegistry":"ARTIFACT_REGISTRY","onDeployUpdatePolicy":{}},"serviceConfig":{"service":"projects/finbud-99269/locations/us-central1/services/backend","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"finbud-99269\",\"storageBucket\":\"finbud-99269.firebasestorage.app\"}","GCLOUD_PROJECT":"finbud-99269","EVENTARC_CLOUD_EVENT_SOURCE":"projects/finbud-99269/locations/us-central1/services/backend","FUNCTION_TARGET":"backend","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://backend-2xqnus4dqq-uc.a.run.app","serviceAccountEmail":"706321535461-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"backend-00031-xej","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloudfunctions","firebase-functions-hash":"1bb941bdfbb36be80bf7e3253ac92477f32d0e33"},"environment":"GEN_2","url":"https://us-central1-finbud-99269.cloudfunctions.net/backend","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/706321535461/locations/us-central1/builds/fee69750-8740-4700-9faf-b1f4831f8900","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/fee69750-8740-4700-9faf-b1f4831f8900?project=706321535461"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/706321535461/locations/us-central1/builds/fee69750-8740-4700-9faf-b1f4831f8900"},"done":false}
[debug] [2025-02-26T09:55:45.600Z] [update-default-us-central1-backend] Retrying task index 0
[debug] [2025-02-26T09:55:45.600Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:45.600Z] Checked if tokens are valid: true, expires at: 1740566721167
[debug] [2025-02-26T09:55:45.601Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/finbud-99269/locations/us-central1/operations/operation-1740563742806-62f08939951af-c816d988-d7858644 [none]
